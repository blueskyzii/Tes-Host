let productList = [

    // { 
    //     name: "aaaa",
    //     description: "aaaa",
    //     image: "aaaa", 
    //     price: "Rp. 8.000.000", 
    //     link: "https://tokopedia.link/https://tokopedia.link/jn5IO6gFDPb"
    // },

    { 
        name: "SSD DST 128GB SATA",
        description: "ssdsatadst128gb",
        image: "dst128gb.jpg", 
        price: "Rp. 114.000", 
        link: "https://tokopedia.link/https://tokopedia.link/jn5IO6gFDPb"
    },

    { 
        name: "Motherboard Gigabyte H81M-DS2 LGA 1150",
        description: "motherboardgigabyteh81mds2mobogigabytegigabith81lga1150",
        image: "h81 200k.webp", 
        price: "Rp. 325.000", 
        link: "https://tokopedia.link/GvPqZWytBPb"
    },
    { 
        name: "SSD SATA III V-Gen 128GB | V-Gen Rescue",
        description: "ssdsatavgen128gb",
        image: "ssd vgen 128.webp", 
        price: "Rp. 124.800", 
        link: "https://tokopedia.link/rToiylxKzPb"
    },
    { 
        name: "Intel Core i3-6100 LGA1151 Intel 6th Generation",
        description: "ProcessorCPUIntelCorei36100LGA1151Intel6thGeneration",
        image: "i3 6100.webp", 
        price: "Rp. 145.000", 
        link: "https://tokopedia.link/WJikrI7tBPb"
    },
    {
        name: "Motherboard H110 | Asrock H110M-D4 M1 DDR4",
        description: "motherboardgigabyteh81mds2mobogigabytegigabith81lga1150",
        image: "Asrock H110M.jpg",
        price: "Rp. 325.000",
        link: "https://tokopedia.link/GvPqZWytBPb"
    },
    {
        name: "Intel Core i3-3240 Intel 3rd Generation LGA 1155",
        description: "ProcessorCPUIntelcorei33240Gen3rdLGA1155",
        image: "i3 3240.jpg",
        price: "Rp 55,000",
        link: "https://tokopedia.link/D2zH5ksdBPb"
    },
    {
        name: "Intel Core i5-4570 Intel 4th Generation LGA 1150",
        description: "ProcessorCPUIntelcorei54570Gen4LGA1150",
        image: "i3 3240.jpg",
        price: "Rp 55,000",
        link: "https://tokopedia.link/RGAvmYadDPb"
    },
    {
        name: "Intel Core i5-3470 Intel 3rd Generation LGA 1155",
        description: "ProcessorCPUIntelcorei53470Gen3LGA1155",
        image: "i5 3470.jpg",
        price: "Rp 150,000",
        link: "https://tokopedia.link/sU17JqwdDPb"
    },
    {
        name: "Intel Core i5-2500 Intel 2nd Generation LGA 1155",
        description: "ProcessorCPUIntelcorei52500Gen2LGA1155",
        image: "i3 2500.jpg",
        price: "Rp 120,000",
        link: "https://tokopedia.link/xW21lNKdDPb"
    },
    {
        name: "Paketan Mobo G41 include Processor+Fan+Backplate",
        description: "paketanmotherboardg41lga775",
        image: "paket g41.webp",
        price: "Rp 150,000",
        link: "https://tokopedia.link/K8NptAXrBPb"
    },
    {
        name: "Motherboard Foxconn H61 LGA1155",
        description: "motherboardmobomotherboardfoxconnh61lga1155",
        image: "foxconn h61.webp",
        price: "Rp 179,300",
        link: "https://tokopedia.link/f97gigiKzPb"
    },
    {
        name: "Motherboard H81 LGA1150 | ECS H81",
        description: "motherboardmobomotherboardecsh81lga1150",
        image: "ecs h81.jpg",
        price: "Rp 200.000 - 245.000",
        link: "https://tokopedia.link/wwSLPbRcDPb"
    },
    {
        name: "Deepcool CK-11509 Fan CPU LGA 775/1156/1155/1150",
        description: "heatsinkdeepcoolck11509fanhsfintellga1156115011551151775",
        image: "deepcool fan.webp",
        price: "Rp 41,000",
        link: "https://tokopedia.link/U7CNteBuBPb"
    },
    {
        name: "NYK Nemesis Windranger F9 RGB | Fan Intel/AMD TDP Up to 100W",
        description: "heatsinkfannemesisnykwindrangerf9 AMD AM2/AM2+/AM3/AM3+/AM4 100W",
        image: "nemesis.jpg",
        price: "Rp 80,000",
        link: "https://tokopedia.link/vSWO6lKaDPb"
    },
    {
        name: "HSF INTEL ORIGINAL LGA 1156/1155/1150/1151/1200/1700",
        description: "heatsinkfanhsfintelstandardoriginallga115611501155115112001700",
        image: "hsf aio.webp",
        price: "Rp 20,000",
        link: "https://tokopedia.link/k4yEi0ouBPb"
    },
    {
        name: "Jonsbo CR1200 CPU FAN COOLER | Fan Intel/AMD Up to TDP 95W",
        description: "CPU FAN COOLER HSF RGB PROCESSOR Jonsbo CR 1200 FAN COOLING Intel: LGA 1150/1151/1155/1156/1200/1700 AMD: AM4/AM3 +/AM3/AM2 +/AM2/FM2 +/FM2/FM1 95W",
        image: "jonsbo1200.jpg",
        price: "Rp 112,000",
        link: "https://tokopedia.link/HIltBAzcDPb"
    },
    {
        name: "New RX7 GT 740 2GB DDR5 128bit",
        description: "vgacardrx7 gt 740 2gb ddr5 128bit new",
        image: "rx7 gt 740.jpg",
        price: "Rp 432,000",
        link: "https://tokopedia.link/Sz7Ipz8eDPb"
    },
    {
        name: "RAM Hynix 4GB PC12800 | DDR3 1600Mhz",
        description: "ramhynix4gbpc12800ddr31600mhz",
        image: "ram 4gb pc12800.webp",
        price: "Rp 47,100",
        link: "https://tokopedia.link/hNcMLFbsBPb"
    },
    {
        name: "RAM Hynix 8GB PC12800 | DDR3 1600Mhz",
        description: "ramhynix8gbpc12800ddr31600mhz",
        image: "ram 8gb pc12800.webp",
        price: "Rp 80,000",
        link: "https://tokopedia.link/5X4CYv8FRNb"
    },
    {
        name: "RAM Samsung/Hynix 4GB PC19200 | DDR4 2400Mhz",
        description: "ramsamsunghynix4gbpc19200ddr42400mhz",
        image: "ram 4gb pc19200.webp",
        price: "Rp 87,300",
        link: "https://tokopedia.link/RlXZkrQuBPb"
    },
    {
        name: "Hardisk WD BLUE 500GB | HDD SATA",
        description: "hardiskwdblue500gbhddsata",
        image: "hdd 500gb.webp",
        price: "Rp 88,000",
        link: "https://tokopedia.link/rToiylxKzPb"
    },
    {
        name: "Hardisk WD BLUE 250GB | HDD SATA",
        description: "hardiskwdblue250gbhddsata",
        image: "hdd 250gb.webp",
        price: "Rp 55,000",
        link: "https://tokopedia.link/Yhi4PoosBPb"
    },
    {
        name: "Casing standard Include PSU | Tanya stock dulu",
        description: "casecasingpcpsu",
        image: "case psu.webp",
        price: "Rp 128,000",
        link: "https://tokopedia.link/8OO050kuBPb"
    },
    {
        name: "PSU Copotan Built UP | Tanya Stock",
        description: "psupowersuplaisuplaypc",
        image: "PSU 55k.webp",
        price: "Rp 55,000",
        link: "https://tokopedia.link/veC7HJatBPb"
    },
    {
        name: "PCCooler KF450 450W 80+ PSU",
        description: "psupccoolerkf45080+powersuplaisuplaypc",
        image: "kf450.jpg",
        price: "Rp. 400.000",
        link: "https://tokopedia.link/wIamgiDcDPb"
    }
];

function toggleProfileMenu() {
    const profileMenu = document.getElementById('profileMenu');
    const profileOverlay = document.getElementById('profileOverlay');
    profileMenu.style.display = 'block';  // Menampilkan menu
    profileOverlay.style.display = 'block';  // Menampilkan overlay
}

function closeProfileMenu() {
    const profileMenu = document.getElementById('profileMenu');
    const profileOverlay = document.getElementById('profileOverlay');
    profileMenu.style.display = 'none';  // Menyembunyikan menu
    profileOverlay.style.display = 'none';  // Menyembunyikan overlay
}

window.addEventListener("load", function() {
    const searchInput = document.getElementById('searchInput');
    let isDesktopMode = false;

    const notification = document.getElementById("thankYouNotification");
    const closeButton = document.getElementById("closeNotification");

    function checkMode() {
        const width = window.innerWidth;
        isDesktopMode = width >= 768;
    }

    checkMode();
    window.addEventListener("resize", checkMode);

    if (!isDesktopMode && searchInput) {
        searchInput.addEventListener("focus", function() {
            alert("Fitur pencarian hanya dapat diakses di mode desktop. Silakan aktifkan mode desktop.");
            searchInput.blur();
        });
    }

        notification.style.display = "block";

    setTimeout(function() {
        notification.style.display = "none";
    }, 5000);

});

function displayProducts() {
    const container = document.getElementById('Container');
    container.innerHTML = ''; // Clear existing products

    productList.forEach(product => {
        const productCard = document.createElement('div');
        productCard.classList.add('product-card');
        
        // Tambahkan atribut data-name dan data-description
        productCard.setAttribute('data-name', product.name);
        productCard.setAttribute('data-description', product.description);

        // Tentukan URL gambar (relatif atau absolut)
        const image = product.image.includes('http') ? product.image : `Product/${product.image}`;
        productCard.innerHTML = `
            <img src="${image}" alt="Product Image">
            <div class="product-info">
                <h3 class="product-name">${product.name}</h3>
                <p class="product-price">${product.price}</p>
            </div>
        `;

        // Tambahkan event listener untuk klik
        productCard.addEventListener('click', () => {
            window.open(product.link, '_blank');
        });

        // Tambahkan kartu ke container
        container.appendChild(productCard);
    });
}

function searchItems() {
    const input = document.getElementById('searchInput');
    const filter = input.value.toLowerCase().replace(/[^a-z0-9 ]/gi, '').trim();
    const filterWords = filter.split(' ');

    const container = document.getElementById('Container'); // Gunakan ID yang sesuai dengan displayProducts
    const items = container.getElementsByClassName('product-card');

    const matches = [];

    for (let i = 0; i < items.length; i++) {
        const productName = items[i].getAttribute('data-name').toLowerCase().replace(/[^a-z0-9 ]/gi, '').trim();
        const productDescription = items[i].getAttribute('data-description').toLowerCase();
        
        const isMatch = filterWords.every(word => 
            productName.includes(word) || productDescription.includes(word)
        );

        if (isMatch) {
            matches.push(items[i]);
        }
    }

    if (matches.length > 0) {
        for (let i = 0; i < items.length; i++) {
            items[i].style.display = 'none'; // Sembunyikan semua item
        }

        for (let i = 0; i < matches.length; i++) {
            matches[i].style.display = ''; // Tampilkan item yang cocok
        }
    } else {
        // Jika tidak ada yang cocok, tampilkan item berdasarkan kecocokan kata terdekat
        const closestMatches = [];
        let maxMatchCount = 0;

        for (let i = 0; i < items.length; i++) {
            const productName = items[i].getAttribute('data-name').toLowerCase().replace(/[^a-z0-9 ]/gi, '').trim();
            const productDescription = items[i].getAttribute('data-description').toLowerCase();
            
            let matchCount = 0;

            for (const word of filterWords) {
                if (productName.includes(word) || productDescription.includes(word)) {
                    matchCount++;
                }
            }

            if (matchCount > maxMatchCount) {
                closestMatches.length = 0;
                closestMatches.push(items[i]);
                maxMatchCount = matchCount;
            } else if (matchCount === maxMatchCount && matchCount > 0) {
                closestMatches.push(items[i]);
            }
        }

        for (let i = 0; i < items.length; i++) {
            items[i].style.display = 'none';
        }

        for (let i = 0; i < closestMatches.length; i++) {
            closestMatches[i].style.display = '';
        }
    }
}


displayProducts();
